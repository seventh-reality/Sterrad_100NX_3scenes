<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Model Viewer with AR</title>
  
  <script type="module" src="model-viewer.min.js"></script>
 <style>
  .slide {
    background-color: transparent;
    border: none;
    cursor: pointer;
    display: inline-block;
    margin: 5px;
  }
  .selected {
    border: 2px solid black;
  }
  #buttons {
    text-align: center;
    margin-bottom: 20px;
  }
  model-viewer {
    width: 100%;
    height: 500px;
    background-color: #eee;
    position: relative; /* Make it a positioning context */
  }
  #ar-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 16px;
    border-radius: 5px;
    cursor: pointer;
    position: absolute; /* Absolute inside model-viewer */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); /* Center it perfectly */
    z-index: 10; /* Ensure itâ€™s above the model */
  }
</style>

</head>
<body>



<model-viewer id="model-viewer" 
  src="USAGE.glb"
  ios-src="USAGE.usdz"
  ar
  ar-modes="scene-viewer webxr quick-look"
  camera-controls
  auto-rotate
  style="width: 100%; height: 500px; background-color: #eee;">
  <button slot="ar-button" id="ar-button">View in AR</button>
  <div id="buttons">
  <button class="slide selected" id="button1" onclick="switchSrc(1, 'USAGE.glb', 'Intro.mp3')">Intro</button>
  <button class="slide" id="button2" onclick="switchSrc(2, 'Sterrad_PARTS.glb', 'parts.mp3')">Parts</button>
  <button class="slide" id="button3" onclick="switchSrc(3, 'Steerad.glb', 'Usage.mp3')">Usage</button>
</div>
</model-viewer>

<audio id="audioPlayer" controls autoplay style="width: 100%; margin-top: 20px;">
  <source src="Intro.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

<script>
  function switchSrc(buttonId, modelPath, audioPath) {
    const modelViewer = document.getElementById('model-viewer');
    const audioPlayer = document.getElementById('audioPlayer');

    modelViewer.src = modelPath;
    modelViewer.setAttribute('ios-src', modelPath.replace('.glb', '.usdz'));

    audioPlayer.src = audioPath;
    audioPlayer.play();

    // Update button selection
    document.querySelectorAll('.slide').forEach(button => button.classList.remove('selected'));
    document.getElementById('button' + buttonId).classList.add('selected');
  }
</script>

<!-- Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ESGCJ1EYXM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ESGCJ1EYXM');
</script>

</body>
</html>
